# 右も左も分からない人に向けて(小西研)

## まず最初に
2021-2022の小西研の卒業生です．  
前の先輩からの情報がなさ過ぎて,
めちゃ時間を無駄遣いしたので
これを残しておきます．  
  
主に，XBeeとIM920を使ってました．  
万が一，xbeeを使うんだったり，最初で何するかわからないときに  
見てみてください．  
  
## 売られている無線モジュールについて  
小西研では，無線モジュールをあーだこーだしますが，  
大体のモジュールがシリアル通信ができます．  
というか，**pcとかアルディーノ，ラズパイと無線モジュールはシリアル通信でやり取り**してます．  
  
なので，最初はTera Term( https://ja.osdn.net/projects/ttssh2/ )はいれておいたほうがいいです．  
Tera Termを使えば，シリアル通信が簡単にできます．
  
### Tera Term 設定方法  
設定>端末　から，この画面を開いて，赤枠の部分を書き換えます．  
送受信の改行コードとローカルエコー(自分の打った文字を見れるようにするか)を設定します．  
  
![端末設定](https://pbs.twimg.com/media/FLjGP4BVkAY8ODG?format=png&name=small "端末設定")  
|機器|送信|受信|ローカルエコ|
|:--|--:|:--:|:--:|
|xbee|cr|crlf|あり|
|xbee_MPY|cr|auto|なし|
|im920sL|crlf|crlf|あり|
  
次に設定>シリアルポート　を開いてそこの数値を設定します．  
大体，書き換えるのは，スピード(ボーレート)の部分だけです．  
ググれば出てきます．大体，xbee初期値は9600,研究室のxbee3とIM920sLは115200です．
![シリアルポート設定](https://pbs.twimg.com/media/FLjGRn8VUAAhy3p?format=png&name=small "シリアルポート設定")  
あとは，使うモジュールが公式に出してるソフトもいれることになると思います．XBeeだったらxctuのような感じ．  
結局，公式が出しているソフトなどを使いますが，シリアル通信ということを知っておくのはくそ重要です．  

## シリアル通信向けプログラミング言語について  
pythonが一番，情報多くて最強です．  
けど，人が触るプログラムにpythonは向いていません．  
  
じゃあ，人が触れるプログラムは何がいいの？  
答えは，**C#とWindows Forms**です．  
最新のWPFを使わずになぜ，Formsをお勧めするのか．  
理由は．シリアルポート通信が簡単にできるからです．~~WPFなら出来栄えがかっこよくなります，たぶん~~  
  
Andoirdでもシリアル通信はできます．( https://github.com/mik3y/usb-serial-for-android )  
言語はJavaですけど，携帯でシリアル通信がしたい！！っていう場合に一番簡単です．  
  
## githubについて  
web系とかソフトしっかり作んないといけないよって場合，  
絶対githubとgit使うと作業がばか楽になります．  
  
これがあれば，visual studioで  
家でも大学でも平行して作業ができて，  
どこをいつ変更したのか一瞬で分かります．  
コミット，クローン，プッシュ，プルの4つさえ分かれば，  
とりあえず使えます．  
小西研のgit本を見るか，ググるかしてみてください．  
(一応，私たちが作ったプログラムもクローンすれば，  
どんなコードでどうやって作ったのかわかります．  
githubで○○.gitをコピー，vsでクローン，開いて○○.slnをクリック)      
  
## 人数・テーマについて  
### 人数  
入る前から，誰かとやろうと決めてない限り，  
結局1人でやった方が得です．  
最初から，何するか決めていて，  
それが大規模で2人や3人いるならまた話は別ですが，  
最大2人までがいいと思います．

### テーマ  
多少ネットに転がってるようなやつでも，大丈夫な感じっぽいです．  
私たちの年の人とか割とそんな感じでした．  
逆に，テーマ考えてそれが存在しない方が少ないです．  
正直一番重要です...  
  
## xbeeについて  
xbeeを使うなら，最新のxbee3を使うのが楽です．  

参考になるサイトは大体，公式のマニュアル( https://www.digi.com/resources/documentation/digidocs/pdfs/90001543.pdf )  
とdigiフォーラム，github( https://github.com/digidotcom )だけです．  
最初は日本のサイトを見ると思いますが，遠回りです．  
xbeeの情報をわざわざネットに残している人なんかいないし，  
いても古い場合が多いので，「あーなるほどね」ってなったら見るくらいがいいと思います．
  
プログラムに関しては，githubさえ見れば，  
8割方どうにかなります．  
　　
|ロール|コーディネータ|ルータ|エンドデバイス|
|:--|:--:|:--:|:--:|
|言語|python(c#,java)|なくても動く|microPython(orマイコン使用)|

プログラムが無くても，文字は受信できます．  
ロールの設定はxctuを使って，  
下の画像を参考にしてください．  
![xbee設定](https://pbs.twimg.com/media/FMM-DMtUUAAqnz1?format=png&name=900x900 "xbee設定")  
  
この設定はATコマンドでも設定できます．  
xbeeを大量に使うことを想定したプログラムでは，  
その設定方法も考えておかないといけません．(藤枝先生に突っ込まれます)  

xbee一括書き込み用のプログラム(未完成) → https://github.com/kohhM/settingXBee_fp/blob/master/settingXBee/  
  
これはmicropythonの書き込みはできませんが，
参考にできるかもです．  
  
## IM920sLについて  
IM920sLは初め，使い方が全く分かりません．  
ライブラリないじゃんってなりますが，必要ないです．  
使うのはコマンドだけで，  
唯一，この会社が出しているライブラリは，  
pythonでpyserial(Pythonでシリアル通信するためのもの)を改造しただけのものです．  
コマンド表があれば大体どうにかなります．  
プログラムはいろいろ作ってあるので，githubを確認してみてください．  
